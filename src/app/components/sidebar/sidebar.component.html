<div
  class="fixed bg-dark-jungle h-full top-0 left-0 px-6 py-3 sidebar transition-transform flex flex-col"
  [class.open]="isVisible"
>
  <button
    (click)="handleToggleSidebarClick()"
    type="button"
    class="absolute top-0 right-0 p-4 flex justify-center items-center cursor-pointer border-none outline-none"
  >
    <img src="assets/icon-close.svg" alt="icon close" />
  </button>

  <div class="h-full flex flex-col flex-grow">
    <h3 class="text-sm tracking-widest text-gray mb-6 mt-11">MY DOCUMENTS</h3>

    <button
      (click)="addNote()"
      type="button"
      class="text-white mb-7 px-10 py-2.5 rounded-sm flex justify-center items-center bg-fire-opal hover:bg-atomic-tangerine cursor-pointer border-none outline-none"
    >
      + New Document
    </button>

    <ul class="flex flex-col gap-3.5 flex-grow mb-7 overflow-y-auto">
      @for (note of notes; track note.id) {
      <li
        (click)="selectNote(note.id)"
        [ngClass]="
          selectedNote?.id === note.id ? 'text-fire-opal' : 'text-white'
        "
        class="cursor-pointer flex items-center"
      >
        <img
          class="mr-4 cover"
          src="assets/icon-document.svg"
          alt="icon document"
        />

        <div class="flex flex-col">
          <p class="text-xs text-gray font-light">
            {{ note.updatedAt | date : "medium" }}
          </p>
          <h3 class="font-normal truncate leading-none">{{ note.title }}</h3>
        </div>
      </li>
      }
    </ul>

    <div class="flex items-center gap-2">
      <img src="assets/icon-dark-mode.svg" alt="icon dark mode" />

      <button
      (click)="toggleTheme()"
        class="w-12 h-6 bg-gray rounded-full relative p-2 flex items-center cursor-pointer"
      >
        <span
          class="transition-all w-3 h-3 bg-white block rounded-full"
          [ngClass]="isDarkTheme ? 'translate-x-0':'translate-x-[170%]'"
        ></span
        >
      </button>

      <img src="assets/icon-light-mode.svg" alt="icon light mode" />
    </div>
  </div>
</div>
